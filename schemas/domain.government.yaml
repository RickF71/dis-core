meta:
  schema_id: domain.government
  schema_version: v0.1
  schema_hash: "<filled-by-registry>"
  name: "Governmental Domain Schema"
  uuid: "00000000-0000-4000-8000-00000000GOV01"

$schema: "https://json-schema.org/draft/2020-12/schema"
title: "domain.government.v0.1"
description: "Defines a governmental domain under DIS-CORE â€” authority, seats, powers, and constitutional constraints."

type: object
required: [meta, authority]


properties:

  meta:
    type: object
    description: "Metadata binding this domain to a schema and parent reference."
    required: [schema_id, schema_version, name, uuid, parent_domain_ref]
    properties:
      schema_id: { type: string, const: "domain.government" }
      schema_version: { type: string }
      schema_hash: { type: string }
      name: { type: string }
      uuid: { type: string }
      parent_domain_ref: { type: string }

  authority:
    type: object
    description: "Defines seats of power, their powers, and limits."
    required: [seats]
    properties:
      seats:
        type: array
        description: "Constitutionally defined seats (Executive, Legislative, Judicial, etc.)"
        items:
          type: object
          required: [id, title, term, powers]
          properties:
            id: { type: string }
            title: { type: string }
            holder: { type: string, description: "UUID of current office holder" }
            term: { type: string, description: "ISO 8601 duration (e.g., P4Y = 4 years)" }
            powers:
              type: array
              description: "List of granted powers"
              items: { type: string }
            constraints:
              type: array
              description: "Constitutional or ethical limits on this seat"
              items: { type: string }

      checks_and_balances:
        type: array
        description: "Cross-seat dependencies or override rules"
        items:
          type: object
          required: [actor, target, rule]
          properties:
            actor: { type: string, description: "Seat initiating a check" }
            target: { type: string, description: "Seat being checked" }
            rule: { type: string, description: "Mechanism (e.g., veto, impeachment, review)" }

  receipt_policy:
    type: object
    description: "Binding to a DIS-CORE schema receipt for audit and validation."
    required: [binding]
    properties:
      binding:
        type: object
        required: [schema_id, version]
        properties:
          schema_id: { type: string, const: "dis-core" }
          version: { type: string }

  history:
    type: array
    description: "Historical record or references to past governance states (optional)."
    items:
      type: object
      properties:
        event: { type: string }
        time: { type: string, format: "date-time" }
        reference: { type: string }
