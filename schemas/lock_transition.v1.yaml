schema: lock_transition.v1
status: locked
description: >
  Defines the process for modifying schema lock states within DIS.
  Lock transitions regulate when a file may evolve or reopen for reinterpretation.

lock_states:
  - name: draft
    description: "Exploratory stage; free editing permitted."
    transitions_to: [provisional]
  - name: provisional
    description: "Temporarily stable; edits allowed with intent notes."
    transitions_to: [locked, draft]
  - name: locked
    description: >
      Semantically stable. Edits require explicit author intent and revision notes.
      Previous version must be preserved.
    transitions_to: [sealed, provisional]
  - name: sealed
    description: >
      Cryptographically or procedurally hardened. No direct edits allowed;
      new versions require a transition record and consent lineage of at least one human-domain signer.
    transitions_to: [enshrined, unlocked_by_consent]
  - name: enshrined
    description: >
      Permanent reference form. May not be altered, only superseded by a
      derivative schema with explicit heritage declaration.
    transitions_to: []
  - name: unlocked_by_consent
    description: >
      Temporary re-opening of a sealed schema authorized by multiple human-domain signatures.
      Used for ethical or contextual reevaluation events.
    transitions_to: [sealed]

transition_rules:
  harden:
    from: [draft, provisional, locked]
    to: [locked, sealed, enshrined]
    requirements:
      - revision_notes: required
      - previous_version: preserved
      - consent_signatures: optional_for_locked
      - hash_record: recommended
  soften:
    from: [sealed, enshrined]
    to: [unlocked_by_consent, provisional]
    requirements:
      - consent_signatures: minimum_two_human
      - reason_notes: required
      - review_period_days: 7
      - hash_record: required

metadata:
  record_fields:
    - author
    - timestamp
    - revision_notes
    - prior_hash
    - consent_signatures
  logging: "Each lock transition is recorded as a ledger event with a unique transition_id."

notes:
  - "Hardening increases the epistemic gravity of a schema."
  - "Softening restores interpretive flexibility through human consent."
  - "No automated system may alter lock states without at least one human-domain witness."
